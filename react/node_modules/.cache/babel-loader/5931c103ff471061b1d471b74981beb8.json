{"ast":null,"code":"var _jsxFileName = \"E:\\\\GitHubCode\\\\s3820906-s3746272-a2\\\\react\\\\src\\\\pages\\\\Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Button, Form, Card, Container, Alert } from \"react-bootstrap\";\nimport { useNavigate } from \"react-router-dom\";\nimport { createUser, findEmail, setLocalUser } from \"../data/repository\";\nimport { checkPassword, PasswordStrengthMeter } from \"../components/PasswordStrengthMeter\";\nimport UserContext from \"../contexts/UserContext\";\nimport { useContext } from \"react\";\nimport \"../css/Signup.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup(props) {\n  _s();\n\n  const navigate = useNavigate();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const validateResult = checkPassword(password);\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\"); //all not allow blank\n\n    if (name === \"\") {\n      setError(\"Pls enter name !\");\n      return;\n    } else if (email === \"\") {\n      setError(\"Pls enter email !\");\n      return; // not allow user register a different account use  same email\n    } else if ((await findEmail(email)) === true) {\n      setError(\"Email already been used, pls change it ! \");\n      return;\n    } else if (password === \"\") {\n      setError(\"password not allow blank!\");\n      return;\n    } else if (repeatPassword === \"\") {\n      setError(\"Pls repeat password !\");\n      return;\n    }\n\n    if (validateResult !== 4) {\n      setError(\"Password not strong enough, pls change it !\");\n      return;\n    } else if (password !== repeatPassword) {\n      setError(\"Two time password different, pls enter same password ! \");\n      return;\n    } else {\n      //user sign up information\n      const user = {\n        user_name: name,\n        user_email: email,\n        user_password: password\n      };\n      const user2 = await createUser(user);\n      setUser(user2);\n      setLocalUser(user2);\n      setError(\"Successful Signup !\");\n      navigate(\"/\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-vh-90 signuppage\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      fluid: \"md\",\n      className: \"min-vh-100 \",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: \"30rem\"\n        },\n        className: \"m-auto my-5 welcomeCard\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"welcometext\",\n          children: \" Welcome to Loop Agile Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        border: \"white\",\n        style: {\n          width: \"25rem\"\n        },\n        className: \"m-auto my-5\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"name\",\n              name: \"name\",\n              placeholder: \"Enter name\",\n              value: name,\n              onChange: event => {\n                setName(event.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Email address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              name: \"email\",\n              placeholder: \"Enter email\",\n              value: email,\n              onChange: event => {\n                setEmail(event.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-1 shadow-none\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              name: \"password\",\n              placeholder: \"Enter password\",\n              value: password,\n              onChange: event => {\n                setPassword(event.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PasswordStrengthMeter, {\n            password: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-1 shadow-none\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Repeat Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              name: \"password\",\n              placeholder: \"Enter RepeatPassword\",\n              value: repeatPassword,\n              onChange: event => {\n                setRepeatPassword(event.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PasswordStrengthMeter, {\n            password: repeatPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), error !== \"\" && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            className: \"signupButton\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"LjRYUa1+V5SloUZOWwakI8jTDyc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","Button","Form","Card","Container","Alert","useNavigate","createUser","findEmail","setLocalUser","checkPassword","PasswordStrengthMeter","UserContext","useContext","Signup","props","navigate","name","setName","email","setEmail","password","setPassword","repeatPassword","setRepeatPassword","error","setError","validateResult","user","setUser","handleSubmit","e","preventDefault","user_name","user_email","user_password","user2","width","event","target","value"],"sources":["E:/GitHubCode/s3820906-s3746272-a2/react/src/pages/Signup.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Form, Card, Container, Alert } from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n\r\n  createUser,\r\n  findEmail,\r\n\r\n  setLocalUser,\r\n} from \"../data/repository\";\r\nimport {\r\n  checkPassword,\r\n  PasswordStrengthMeter,\r\n} from \"../components/PasswordStrengthMeter\";\r\nimport UserContext from \"../contexts/UserContext\";\r\nimport { useContext } from \"react\";\r\nimport \"../css/Signup.css\";\r\n\r\nfunction Signup(props) {\r\n  const navigate = useNavigate();\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const validateResult = checkPassword(password);\r\n  const { user, setUser } = useContext(UserContext);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    //all not allow blank\r\n    if (name === \"\") {\r\n      setError(\"Pls enter name !\");\r\n      return;\r\n    } else if (email === \"\") {\r\n      setError(\"Pls enter email !\");\r\n      return;\r\n      // not allow user register a different account use  same email\r\n    } else if ((await findEmail(email)) === true) {\r\n      setError(\"Email already been used, pls change it ! \");\r\n      return;\r\n    } else if (password === \"\") {\r\n      setError(\"password not allow blank!\");\r\n      return;\r\n    } else if (repeatPassword === \"\") {\r\n      setError(\"Pls repeat password !\");\r\n      return;\r\n    }\r\n    if (validateResult !== 4) {\r\n      setError(\"Password not strong enough, pls change it !\");\r\n      return;\r\n    } else if (password !== repeatPassword) {\r\n      setError(\"Two time password different, pls enter same password ! \");\r\n      return;\r\n    } else {\r\n      //user sign up information\r\n      const user = {\r\n        user_name: name,\r\n        user_email: email,\r\n        user_password: password,\r\n      };\r\n\r\n      const user2 = await createUser(user);\r\n\r\n      setUser(user2);\r\n      setLocalUser(user2);\r\n      setError(\"Successful Signup !\");\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-vh-90 signuppage\">\r\n      <Container fluid=\"md\" className=\"min-vh-100 \">\r\n        <Card style={{ width: \"30rem\" }} className=\"m-auto my-5 welcomeCard\">\r\n          <h1 className=\"welcometext\"> Welcome to Loop Agile Now</h1>\r\n        </Card>\r\n        <Card border=\"white\" style={{ width: \"25rem\" }} className=\"m-auto my-5\">\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group className=\"mb-4\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"name\"\r\n                name=\"name\"\r\n                placeholder=\"Enter name\"\r\n                value={name}\r\n                onChange={(event) => {\r\n                  setName(event.target.value);\r\n                }}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-4\">\r\n              <Form.Label>Email address</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Enter email\"\r\n                value={email}\r\n                onChange={(event) => {\r\n                  setEmail(event.target.value);\r\n                }}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Form.Group className=\"mb-1 shadow-none\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Enter password\"\r\n                value={password}\r\n                onChange={(event) => {\r\n                  setPassword(event.target.value);\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <PasswordStrengthMeter password={password} />\r\n\r\n            <Form.Group className=\"mb-1 shadow-none\">\r\n              <Form.Label>Repeat Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder=\"Enter RepeatPassword\"\r\n                value={repeatPassword}\r\n                onChange={(event) => {\r\n                  setRepeatPassword(event.target.value);\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <PasswordStrengthMeter password={repeatPassword} />\r\n\r\n            {error !== \"\" && <Alert variant=\"danger\">{error}</Alert>}\r\n            <Button variant=\"primary\" type=\"submit\" className=\"signupButton\">\r\n              Submit\r\n            </Button>\r\n          </Form>\r\n        </Card>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}